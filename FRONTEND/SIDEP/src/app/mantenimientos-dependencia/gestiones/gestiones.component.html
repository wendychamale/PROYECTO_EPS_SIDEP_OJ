<div class="main-content">

    
  <div class="container-fluid">
   <!-- <style>
      html,
      .slide {
        background-color: #3c8dbc;
        color: #17384C;
        height: 100%;
      }

      .titulo {
        text-align: center;
        font-size: 24px;
        background-color: #215074;
        height: 5%;
        font-weight: 400;
        color: white;
        padding: 1%;
      }

      .etiqueta {
        color: black;
        font-weight: 401;
      }

      .textos {
        font-size: 14px;
      }

      .encabezado {
        font-size: 14px;
        text-align: center;
        font-weight: bold;
      }
    </style> -->
    <style>
      .encabezado {
        font-size: 14px;
        text-align: center;
        font-weight: bold;
        color: black;
      }
    </style>
    <div class="titulo">
      <p>
        {{nombreTitulo}}
      </p>
    </div>
    <br>
    <br>
    <form [formGroup]="gestion" name="formGestion" class="register-form">
      <div>          
        <div style="background-color: white; padding-left: 2%; padding-right: 2%; padding-top: 0.5%; padding-bottom: 2.5%;">
          <div class="=col-md-6 mx-auto mt-5 ">
            <div class="container-fluid" style="padding-left: inherit; padding-right: inherit;">

              <div  style="border: 2px solid #215074; padding-left: 2px; padding-right: 2px; padding-top: 10px; margin-bottom: 40px; font-size: 12px; border-radius: 5px; ">

                <div class="container" >

                  <div class="row mb-3">
                    <div class="col-2" style="text-align: center;">
                      <button mat-raised-button *ngIf="idEstado==1 && (this.viewSecretaria || this.viewPresidencia )" class="btn btn-primary" (click)="crear();" style="font-size: 12px;">
                        <i class="fa fa-plus"></i>
                        &nbsp;&nbsp; Crear
                      </button>
                    </div>

                    <div class="col" style="text-align: right; padding-top:15px;  padding-right: 2px;">
                      <label>
                        <i class="fa fa-search"></i>
                      </label>
                    </div>

                    <div class="col-6" style="text-align: left; padding-left: 0px;">
                      <mat-form-field  [floatLabel]="floatLabelControl.value" class="textos">
                        <input type="text" (ngModelChange)="filterMatTable($event)" placeholder="Gestión" matInput formControlName="busqueda">
                      </mat-form-field>
                    </div>

                    <div class="col">
                      <mat-form-field [floatLabel]="floatLabelControl.value">
                          <mat-label  style="font-size: 14px;">TODOS</mat-label>
                          <mat-select [(value)]="selected">
                            <mat-option (onSelectionChange)="selFiltroTipo($event,tipos)" *ngFor="let tipos of listTipos" [value]="tipos.ID_TIPO" style="font-size: 12px;">{{tipos.DESCRIPCION}}</mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                  </div>

                </div>

              </div>

              <div>


                  <div  class="material-datatables; mat-elevation-z8 table-responsive" style="border: 2px solid #215074; padding-left: 10px; padding-right: 10px; padding-top: 10px; margin-bottom: 40px; font-size: 14px; border-radius: 5px; ">
                      <table id="datatables" mat-table [dataSource]="dataSource" matSort class="table table-striped table-no-bordered table-hover" cellspacing="0" width="100%" style="width:100%" matSort>
                            
                        <ng-container matColumnDef="CODIGO_DEPENDENCIA">
                          <th mat-header-cell *matHeaderCellDef class="encabezado"> CÓDIGO </th>
                          <td mat-cell style="text-align: center;" *matCellDef="let element"> {{element.CODIGO_DEPENDENCIA}} </td>
                        </ng-container>
                    
                        <ng-container matColumnDef="NOMBRE_DEPENDENCIA">
                          <th mat-header-cell *matHeaderCellDef class="encabezado"> NOMBRE </th>
                          <td mat-cell style="text-align: center;" *matCellDef="let element"> {{element.NOMBRE_DEPENDENCIA}} </td>
                        </ng-container>
                    
                        <ng-container matColumnDef="TIPO_GESTION">
                          <th mat-header-cell *matHeaderCellDef class="encabezado"> TIPO </th>
                          <td mat-cell style="text-align: center;" *matCellDef="let element"> {{element.TIPO_GESTION}} </td>
                        </ng-container>
                    
                        <ng-container matColumnDef="ESTADO_GESTION">
                          <th mat-header-cell *matHeaderCellDef class="encabezado"> ESTADO </th>
                          <td mat-cell style="text-align: center;" *matCellDef="let element" > {{element.ID_ESTADO_PROCESO }}</td>
                        </ng-container>

                        <ng-container matColumnDef="OPCIONES">
                            <th mat-header-cell *matHeaderCellDef class="encabezado"> OPCIONES </th>
                            <td mat-cell style="text-align: center;" *matCellDef="let row" >
                                <a class="btn btn-link btn-info btn-just-icon" (click)="viewDependencia(row);"  matTooltipClass="primary-tooltip" matTooltip="Ver Dependencia" ><i class="fa fa-eye"></i></a>                                                               
                                <a *ngIf="this.idEstado == 3" class="btn btn-link btn-primary btn-just-icon"  (click)="viewObservaciones(row);" matTooltipClass="primary-tooltip" matTooltip="Observaciones"><i class="fa fa-comments-o"></i></a>                                           
                                <a *ngIf="this.idEstado == 3 && !this.viewNominas" class="btn btn-link btn-warning btn-just-icon" (click)="editar(row);" matTooltipClass="primary-tooltip" matTooltip="Editar" ><i class="fa fa-edit"></i></a>                                     
                                <a *ngIf="(this.idEstado == 1 ) && !this.viewNominas" class="btn btn-link btn-success btn-just-icon" (click)="crear2(row);" matTooltipClass="primary-tooltip" matTooltip="Crear" ><i class="fa fa-plus"></i></a>                                     
                                <a *ngIf="this.idEstado == 1 && this.viewNominas" class="btn btn-link btn-success btn-just-icon" (click)="confirmarGestion(row)"  matTooltipClass="primary-tooltip" matTooltip="Confirmar" ><i class="fa fa-check-square-o"></i></a>                                     
                                <a *ngIf="this.idEstado == 1 && !this.viewNominas " class="btn btn-link btn-danger btn-just-icon"  (click)="rechazar1(row)" matTooltipClass="primary-tooltip" matTooltip="Devolver"><i class="fa fa-reply"></i></a>                                     
                                <a *ngIf="this.idEstado == 1 && this.viewNominas" class="btn btn-link btn-danger btn-just-icon"  (click)="rechazar(row)" matTooltipClass="primary-tooltip" matTooltip="Rechazar"><i class="fa fa-remove"></i></a>                                     
                                <a *ngIf="this.idEstado == 3  " class="btn btn-link btn-danger btn-just-icon"  (click)="eliminar(row);" matTooltipClass="primary-tooltip" matTooltip="Eliminar Solicitud"><i class="fa fa-trash"></i></a>                                           
                               
                              </td>
                          </ng-container>
                                
                        <tr mat-header-row *matHeaderRowDef="['CODIGO_DEPENDENCIA','NOMBRE_DEPENDENCIA','TIPO_GESTION','ESTADO_GESTION','OPCIONES']"></tr>
                        <tr mat-row *matRowDef="let row; columns: ['CODIGO_DEPENDENCIA','NOMBRE_DEPENDENCIA','TIPO_GESTION','ESTADO_GESTION','OPCIONES'];"></tr>
                      </table>
                    
                      <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
                    </div>

                <!--End Upoload File-->

              </div>


            </div>
          </div>
        </div>
      </div>
    </form>

  </div>
</div>


